<!DOCTYPE html>
<html>



<head>
    <title>Welcome!</title>
</head>
<body>
<p id="demo"></p>

<form id="form1" method="get">
    Username:<br>
    <input type="text" name="username" value="Mickey">
    <br>
    Password:<br>
    <input type="text" name="password" value="Mouse">
    <br><br>
    <input type="button" onclick="loginUser()" value="Login">
    <input type="button" onclick="createUser()" value="New User">
</form>

<script type="text/javascript">
    function submitForm(action) {
        var form = document.getElementById('form1');
        form.action = action;
        form.method = "get";
        form.submit();
    }
</script>

<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCbUoec8Hr-DtnUk1srWlpRpGEZycTgBHI",
        authDomain: "arworldgt.firebaseapp.com",
        databaseURL: "https://arworldgt.firebaseio.com",
        projectId: "arworldgt",
        storageBucket: "",
        messagingSenderId: "1007753558225"
    };
    firebase.initializeApp(config);
    // Get a reference to the database service
    var database = firebase.database();
    //writeUserData("test", "test", "test.com")
    //location.assign('/VideoExample.html');
</script>

<script>
    function createUser() {
        var x = document.getElementById("form1");
        let username = x.elements[0].value;
        let password = x.elements[1].value;
        writeUserData("womackj","135838Jw")
    }
    function loginUser() {
        var x = document.getElementById("form1");
        let username = x.elements[0].value;
        let password = x.elements[1].value;
        let users = firebase.database().ref('/users/');
        users.once('value').then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
               demo.innerHTML += "1 " + childSnapshot.key;
               demo.innerHMTL += "2 " + childSnapshot.child(childSnapshot.key + '/password').val();
            });
            demo.innerHTML += "3 " + snapshot.key;
            demo.innerHTML += "4 " + snapshot.child('womackj/password').val();
            demo.innerHTML += "5 " + JSON.stringify(snapshot.val());
        });
    }

    function writeUserData(username, password) {
        firebase.database().ref('users/' + username).set({
            password: password
        });
    }
</script>

</body>
</html>